{% extends "base.html" %}

{% block content %} <!--상세 페이지 받아오기-->
    <h1>영화 상세 페이지</h1>
    <!--data 받아오기-->
    <!--image 받아오기 -->
    <!--모델 자체에 있는 데이터 받아와야함 -->
    {% comment %} {{movie.img}} <!--개발자 도구로 주소 확인 : 안찍혔는지 -> db확인 -> setting, urls (설정), views deatil로 전달의 -> model --> {% endcomment %}
    {% if movie.img %}
        <img src="{{movie.img.url}}" alt="movieImage"> <!--url-->
    {% endif %}
    <h2>{{movie.title}}</h2>
    <p>{{movie.content}}</p>
    <hr>
    <!--수정 페이지-->
    <form action="{% url "movies:update" movie.pk %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <button type="submit" class="btn btn-secondary">UPDATE</button>
    </form>
    <!--삭제 페이지--> 
    <!--삭제 링크--> <!--제출 : 삭제 요청-->
    <form action="{% url "movies:delete" movie.pk %}"> <!--삭제 요청-->
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">DELETE</button></a>
    </form>
    <hr>
    <a href="{% url "movies:index" %}"><button type="button" class="btn btn-primary">BACK</button></a>
{% endblock content%}
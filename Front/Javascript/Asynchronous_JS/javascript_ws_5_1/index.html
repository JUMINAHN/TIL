<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dog API</title>
  <style>
    img {
      height: 500px;
    }
  </style>
</head>
<body>
  <h1>Dog API</h1>
  <img src="" alt="dog">
  <br>
  <button>Get dog</button>
  
  <!-- axios CDN을 삽입한다. -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    const API_URI = 'https://dog.ceo/api/breeds/image/random' //위에 적혀있는 강아지
    
    function getDog () { //getdog를 받아온다 그리고 그 밑에 강아지의 데이터를 추가...?
      axios({
        method: 'get',
        url: API_URI //강아지
      }).then((response) => { //성공적일 경우의 콜백함수 정의한다 
        console.log(response);
        // //response => 객체를 뽑아주는데 거기서 data의 message의 값에 있다.
        // console.log(response.data)
        console.log(response.data.message) //그 안에서 메세지를 뽑겠다
        //이것에 대한 이미지 리소스를 url로 받는다
        //따라서 src에 값을 넣으면?
        url = response.data.message
        
        //img 태그 추출
        const imgTag = document.querySelector('img')
        imgTag.setAttribute('src', url) //리소스 자체를 감싸주는 것이라서 url을 그대로 넣으면 됨
      })

      // axios를 사용하여 API_URI로 GET 요청을 보낸다. => 지금 되어있는 것 아님?
      
      // .then 메서드를 통해 요청이 성공적인 경우의 콜백함수를 정의한다. => 이것도..?
      //성공적일 때 iimage 함수를 만든다 

      // 응답객체의 데이터에서 이미지에 대한 리소스를 img 요소의 src 속성으로 할당한다.
    }

    const button = document.querySelector('button')
    button.addEventListener('click', getDog)
  </script>
</body>
</html>